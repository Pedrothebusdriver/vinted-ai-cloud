<script type="text/plain" data-filename="pi-app/templates/draft.html">
<option>New with tags</option>
<option>New without tags</option>
<option>Very good</option>
<option>Good</option>
<option>Fair</option>
</select>


<label>Price (Â£)</label>
<input id="price" name="price" value="{{ '%.2f' % d.rec_price if d.rec_price else '' }}" placeholder="e.g., 12.00" />


<div class="row" style="margin-top:10px">
<button type="submit">Save</button>
<form action="/api/draft/{{ d.id }}/check_price" method="post" style="display:inline">
<button formaction="/api/draft/{{ d.id }}/check_price" formmethod="post">Check Price</button>
</form>
</div>
</form>
</div>
</div>


<script>
const titleEl = document.getElementById('title');
const brandEl = document.getElementById('brand');
const sizeEl = document.getElementById('size');
const typeEl = document.getElementById('item_type');
const colourEl= document.getElementById('colour');


function buildDescription(){
const bits = [];
if (brandEl.value) bits.push(`Brand: ${brandEl.value}`);
if (sizeEl.value) bits.push(`Size: ${sizeEl.value}`);
if (typeEl.value) bits.push(`Type: ${typeEl.value}`);
if (colourEl.value) bits.push(`Colour: ${colourEl.value}`);
return bits.join('\n');
}


document.getElementById('copyTitle').onclick = async ()=>{
try { await navigator.clipboard.writeText(titleEl.value || ''); alert('Title copied'); } catch(e){ alert('Copy failed'); }
};
document.getElementById('copyDesc').onclick = async ()=>{
try { await navigator.clipboard.writeText(buildDescription()); alert('Description copied'); } catch(e){ alert('Copy failed'); }
};
</script>
</body>
</html>
</script>
